SC.MODULE_INFO['cloudos/auth_ui'].source = "AuthUI=SC.Object.create({firstRunView:null,MAXIMUM_UPLOAD_FILE_SIZE:1024*10000});AuthUI.importController=CW.Uploader.create({maximumFileSize:AuthUI.MAXIMUM_UPLOAD_FILE_SIZE,isImporting:NO,onFileDropped:function(a,b){CloudOS.statechart.sendAction(\"activeXFileDropped\",b)},onDragEnter:function(a,b){CloudOS.statechart.sendAction(\"activeXFileDragStarted\")},onDragLeave:function(a,b){CloudOS.statechart.sendAction(\"activeXFileDragEnded\")},onDragOver:function(a,b){if(this._param&&this._param.x===b.x&&this._param.y===b.y){return}this._param=b;CloudOS.statechart.sendAction(\"activeXFileDragged\",{x:b.x,y:b.y})},onInvalidFileDropped:function(a,b){CK.Photo.displayUploaderErrors(b.errorCode)}});AuthUI.ActiveXView=CK.ActiveXView.extend({classNames:[\"activeX\"],layout:{top:0,left:0,right:0,bottom:0},maxImageSize:1000,maxFileSizeBytes:AuthUI.MAXIMUM_UPLOAD_FILE_SIZE,delegate:AuthUI.importController});AuthUI.AuthUIView=SC.View.extend(CW.Animatability,{classNames:\"auth-ui-view\".w(),childViews:\"preInfo fields\".w(),preInfo:SC.View.extend(CloudOS.Paneness).extend(CW.Animatability,CW.PaneAnimationSupport,{classNames:\"pre-info\",childViews:\"label learnMore signIn\".w(),init:function(){this.isPaneAttached=!!CloudOS.get(\"shouldShowPreInfo\");arguments.callee.base.apply(this,arguments)},appendRemove:function(){this[CloudOS.get(\"shouldShowPreInfo\")?\"append\":\"remove\"]()}.observes(\"CloudOS.shouldShowPreInfo\"),showDuration:0,hideDuration:300,label:SC.View.extend({classNames:\"pre-info-label overflow-always-visible\",layout:{centerX:0,centerY:55},didCreateLayer:function(){this.update()},render:function(a){},update:function(){var a=this.get(\"layer\");if(!a){return}a.innerHTML=\"Auth.PreInfo.Description\".loc();this.invokeLast(\"sizeToText\");this.invokeLater(\"sizeToText\",3000)},sizeToText:function(){var a=this.get(\"layer\");if(!a){return}var b=SC.bestStringMetricsForMaxWidth(a.innerHTML,306,a,undefined,true);this.adjust({width:b.width,height:b.height})}}),learnMore:CloudOS.ButtonView.extend({layout:{height:47,bottom:12,left:14,right:167},themeName:\"preInfoButton\",title:\"Auth.PreInfo.LearnMore\".loc(),action:function(a){window.open(\"Auth.PreInfo.LearnMore.URL\".loc(),\"appleIDWindow\")}}),signIn:CloudOS.ButtonView.extend({layout:{height:47,bottom:12,left:167,right:14},themeName:\"preInfoButton\",title:\"Auth.PreInfo.SignIn\".loc(),action:function(a){this.parentView.animate(\"opacity\",{from:1,to:0,duration:300});CK.setValueInLocalStorage(\"hasDismissedPreInfo\",1,YES);CloudOS.set(\"shouldShowPreInfo\",NO)}})}),fields:SC.View.extend(CloudOS.Paneness).extend(CW.Animatability,CW.PaneAnimationSupport,CloudOS.NotificationSupport,{classNames:\"auth-fields\",childViews:\"username password extended submitButton spinner\".w(),subscribesTo:\"CloudOS.authController CloudOS.workspaceController\".w(),init:function(){this.isPaneAttached=!CloudOS.get(\"shouldShowPreInfo\");arguments.callee.base.apply(this,arguments)},appendRemove:function(){this[CloudOS.get(\"shouldShowPreInfo\")?\"remove\":\"append\"]()}.observes(\"CloudOS.shouldShowPreInfo\"),showDuration:300,hideDuration:0,isSpinning:NO,isSpinningBinding:\"*parentView.parentView.isSpinning\",isEditableBinding:\"*parentView.parentView.isEditable\",_ifDialogAbortCount:0,showIForgotDialog:function(){if(!SC.browser.isIE8OrLower&&this._ifDialogAbortCount%3!==2){this._ifDialogAbortCount++;return}this._ifDialogAbortCount=0;if(this._ifDialogShowing){return}this._ifDialogShowing=true;var a=this._ifDialog||(this._ifDialog=AuthUI.AuthStingerView.create());a.appendTo(this)},hideIForgotDialog:function(){if(!this._ifDialogShowing){return}this._ifDialogShowing=false;var a=this._ifDialog;if(a){a.remove()}}.observes(\"topValue\",\"bottomValue\"),_focusUsername:function(){var a;if((a=this._usernameElement)){try{a.focus()}catch(b){}}},_focusPassword:function(){var a;if((a=this._passwordElement)){try{a.focus()}catch(b){}}},_blurUsername:function(){var a;if((a=this._usernameElement)){try{a.blur()}catch(b){}}},_blurPassword:function(){var a;if((a=this._passwordElement)){try{a.blur()}catch(b){}}},_selectUsername:function(){var a;if((a=this._usernameElement)){try{a.select()}catch(b){}}},_selectPassword:function(){var a;if((a=this._passwordElement)){try{a.select()}catch(b){}}},focusCorrectField:function(){if(!this.get(\"isVisibleInWindow\")||!this.get(\"isEditable\")){return}var a=!!this.getPath(\"username.value\"),b=!!this.getPath(\"password.value\");if(a){return this._focusPassword()}if(!a){return this._focusUsername()}},windowDidFocus:function(){if(!this._blurred){return}this._blurred=NO;if(!this.get(\"isTopFocused\")&&!this.get(\"isBottomFocused\")){this.focusPreviouslyFocusedField()}},windowDidBlur:function(){this._blurred=YES},focusPreviouslyFocusedField:function(){if(!this.get(\"isVisibleInWindow\")||!this.get(\"isEditable\")){return}if(this._lastFocused===\"password\"){this._focusPassword()}else{this._focusUsername()}},_watchTopFocus:function(){if(this.get(\"isTopFocused\")){this._lastFocused=\"username\"}}.observes(\"isTopFocused\"),_watchBottomFocus:function(){if(this.get(\"isBottomFocused\")){this._lastFocused=\"password\"}}.observes(\"isBottomFocused\"),autofocusOnVisible:function(){if(!this.get(\"isVisibleInWindow\")){return}this.invokeLater(\"focusCorrectField\",300)}.observes(\"isVisibleInWindow\"),autoblurOnInvisible:function(){if(this.get(\"isVisibleInWindow\")){return}this._blurUsername();this._blurPassword()}.observes(\"isVisibleInWindow\"),attemptSubmit:function(){var b=this.get(\"isUsernameEmail\")?this.getPath(\"username.value\"):\"\",c=this.getPath(\"password.value\"),a,e;if(this.get(\"isUsernameAlmostEmail\")){if(this.get(\"isVisibleInWindow\")&&this.get(\"isEditable\")){this._focusUsername();this._selectUsername()}return}if(c&&!this.get(\"isUsernameEmail\")&&!this.get(\"isUsernameAlmostEmail\")){CW.iOSAlert.show({message:\"Error.AuthUsernameIsNotEmail.Title\".loc(),description:\"Error.AuthUsernameIsNotEmail.Description\".loc(),buttons:[\"Button.Close\".loc(),{title:\"Error.AuthUsernameIsNotEmail.Update\".loc(),action:function(){window.open(\"Error.AuthUsernameIsNotEmail.Update.URL\".loc());this.get(\"pane\").dismiss()}}],ui:this,alertPaneDidDismiss:function(){CloudOS.authController.set(\"areFieldsEditable\",YES);this.ui.invokeLast(function(){if(this.get(\"isVisibleInWindow\")&&this.get(\"isEditable\")){if(!SC.browser.isIE8OrLower){this._focusUsername()}}})}});CloudOS.authController.set(\"areFieldsEditable\",NO);return}if(!b||!c){this.focusCorrectField();return}this.performSubmit()},performSubmit:function(){this.username.trim();CloudOS.statechart.sendAction(\"userDidSubmit\")},render:function(a){a.push('<div class=\"top-placeholder\" aria-hidden=\"true\">'+\"Auth.Hint.Username\".loc()+'</div><div class=\"bottom-placeholder\" aria-hidden=\"true\">'+\"Auth.Hint.Password\".loc()+'</div><div class=\"top-ring\" aria-hidden=\"true\"></div><div class=\"bottom-ring\" aria-hidden=\"true\"></div><div class=\"top-field\" aria-hidden=\"true\"></div><div class=\"bottom-field\" aria-hidden=\"true\"></div>')},didCreateLayer:function(){CW.Anim.setOpacity(this._topPlaceholder=this.$(\".top-placeholder\")[0],0.5);CW.Anim.setOpacity(this._bottomPlaceholder=this.$(\".bottom-placeholder\")[0],0.5);CW.Anim.setOpacity(this._topRing=this.$(\".top-ring\")[0],0);CW.Anim.setOpacity(this._bottomRing=this.$(\".bottom-ring\")[0],0);this.update();this._usernameElement=this.username.$input()[0];this._passwordElement=this.password.$input()[0];var a=this.get(\"frame\");this.set(\"layout\",{left:a.x,top:a.y,width:a.width,height:a.height})},update:function(){var d=false;if(this.didChangeFor(\"update\",\"isTopFocused\")){var b=this.get(\"isTopFocused\");this._topFade=CW.Anim.Fader.create({element:this._topRing,to:b?1:0,duration:b?200:500}).start()}if(this.didChangeFor(\"update\",\"isBottomFocused\")){var a=this.get(\"isBottomFocused\");this._bottomFade=CW.Anim.Fader.create({element:this._bottomRing,to:a?1:0,duration:a?200:500}).start()}if(this.didChangeFor(\"update\",\"hasBottomPlaceholder\")){var e=this.get(\"hasBottomPlaceholder\");this._bottomFade=CW.Anim.Fader.create({element:this._bottomPlaceholder,to:e?0.31:0,duration:e?700:100*!SC.browser.isSafari}).start();d=true}if(this.didChangeFor(\"update\",\"hasTopPlaceholder\")){var c=this.get(\"hasTopPlaceholder\");this._topFade=CW.Anim.Fader.create({element:this._topPlaceholder,to:c?0.31:0,duration:c?700:100*!SC.browser.isSafari}).start();d=true}if(this._lastIUE!==(this._lastIUE=this.get(\"isUsernameEmail\"))){d=true}if(d){this.set(\"enableSubmit\",!!(this.get(\"topValue\")&&this.get(\"bottomValue\")))}},finishAnimation:function(){if(this._bottomFade){this._bottomFade.finish()}if(this._topFade){this._topFade.finish()}return CW.Animatability.finishAnimation.apply(this,arguments)},isTopFocusedBinding:\".username.focused\",isBottomFocusedBinding:\".password.focused\",topValueBinding:\".username.value\",bottomValueBinding:\".password.value\",hasTopPlaceholder:function(){return !this.get(\"topValue\")}.property(\"topValue\").cacheable(),hasBottomPlaceholder:function(){return !this.get(\"bottomValue\")}.property(\"bottomValue\").cacheable(),isUsernameEmail:function(){var b=this.get(\"topValue\"),a;if(!b){return NO}return !!b.match(/.+@.+\\..+/)&&(a=b.match(new RegExp(\"@\",\"g\")))&&a.length===1}.property(\"topValue\").cacheable(),isUsernameAlmostEmail:function(){var a=this.get(\"topValue\");return !this.get(\"isUsernameEmail\")&&a.indexOf(\"@\")!==-1}.property(\"topValue\").cacheable(),displayProperties:\"isTopFocused isBottomFocused hasTopPlaceholder hasBottomPlaceholder isUsernameEmail\".w(),username:SC.TextFieldView.extend({layout:{top:189+5-2*!!SC.browser.mozilla+1*(parseInt(SC.browser.msie,0)===9)+!!SC.browser.isIE8OrLower,left:22,right:14,height:49-10,zIndex:200},classNames:\"username signin-field\".w(),themeName:null,spellCheckEnabled:NO,hint:(SC.browser.msie||SC.browser.opera)?\"\":\"Auth.Hint.Username\".loc(),isEditableBinding:\"*parentView.parentView.isEditable\",valueBinding:\"CloudOS.authController.loginUsername\",trimOnBlur:function(){if(this.get(\"focused\")){return}this.trim()}.observes(\"focused\"),trim:function(){var b=this.get(\"value\")||\"\";var a=b.replace(/\\s+/g,\"\");if(a!==b){CloudOS.authController.set(\"loginUsername\",a);this.set(\"value\",a)}}}),password:SC.TextFieldView.extend({layout:{top:190+53+5-2*!!SC.browser.mozilla-!!SC.browser.isIE8OrLower,left:22,right:14+35,height:49-10,zIndex:200},isPassword:YES,hint:(SC.browser.msie||SC.browser.opera)?\"\":\"Auth.Hint.Password\".loc(),classNames:\"password signin-field\".w(),themeName:null,isEditableBinding:\"*parentView.parentView.isEditable\",valueBinding:\"CloudOS.authController.loginPassword\"}),extended:SC.CheckboxView.extend({layout:{top:306,height:24,centerX:0,zIndex:300},themeName:\"authBadgeCheck\",title:\"Auth.Label.KeepMeLoggedIn\".loc(),valueBinding:\"CloudOS.authController.isExtendedLogin\",init:function(){this.layout.width=22+SC.metricsForString(this.get(\"title\"),'font-family:\"Helvetica Neue\",Helvetica,Arial,sans-serif; font-size:15px;').width;arguments.callee.base.apply(this,arguments)}}),enableSubmit:NO,submitButton:SC.ImageButtonView.extend({isVisibleBinding:SC.Binding.not(\"*parentView.isSpinning\"),layout:{top:255,left:277,height:26,width:25,zIndex:30},classNames:\"auth-submit\".w(),toolTip:\"Auth.Button.SignIn\".loc(),action:function(){this.get(\"parentView\").attemptSubmit()},isEnabledBinding:\"*parentView.parentView.enableSubmit\",isDefault:YES}),spinner:CW.SpinnerView.extend({isVisibleBinding:\"*parentView.isSpinning\",layout:{top:250,left:273,zIndex:31},asset:\"/system/cloudos/auth_ui/en-us/1FCS29.34215/source/resources/images/spinner_signin.png\"})})});AuthUI.BadgeFlippingPane=SC.Pane.extend(CW.Animatability,CloudOS.IsShowingSupport,CW.DropTarget,{isDropTarget:YES,acceptsFileDrags:NO,show:function(){this.append();this.becomeKeyPane();this.invokeLast(\"chooseDefaultBadge\");this._animateKidLists(\"immediateFadingChildren\",\"delayedFadingChildren\",{opacity:{from:0,to:1},duration:500});if(this._hideKidTimer){this._hideKidTimer.invalidate();this._hideKidTimer=undefined}if(this.didShow){this.didShow()}},hide:function(){this.set(\"currentBadge\",\"none\");var a={opacity:0,duration:500};this._animateKidLists(\"immediateFadingChildren\",a);this._hideKidTimer=this.invokeLater(this._animateKidLists,CloudOS.workspaceController.nextShowDelayTime,\"delayedFadingChildren\",a);if(this.didHide){this.didHide()}var b=CloudOS.appController.get(\"pendingApp\");if(b){this._sleptApp=b;b.sleep()}},_animateKidLists:function(){var c=0,m=[];for(var e=arguments.length-1-c;typeof arguments[e]!==\"string\";e--){m.unshift(arguments[e]);c++}for(var f=0,d=arguments.length;f<d-c;f++){for(var h=0,a=this.get(arguments[f]),g,b=a&&a.length;h<b;h++){if((g=this.get(a[h]))&&g.hasAnimatability){g.animate.apply(g,m)}}}},chooseDefaultBadge:function(){this.set(\"currentBadge\",this.get(\"defaultBadge\"))},didRemoveFromParent:function(){this._noAnimate=YES;this.set(\"currentBadge\",\"none\");this.currentBadgeObserver();this._noAnimate=NO},defaultResponder:CloudOS.statechart,currentBadge:\"none\",activeX:null,currentBadgeObserver:function(){if(!this.didChangeFor(\"currentBadgeObserver\",\"currentBadge\")){return}var d=this.get(\"currentBadge\"),c=this.get(d),b=this.get(this._lastCurrentBadge),a=this;if(c){c.append()}if(b){b.remove()}this._lastCurrentBadge=d}.observes(\"currentBadge\"),entranceAnimationDidFinish:function(){},exitAnimationDidFinish:function(){if(this.get(\"currentBadge\")!==\"none\"){return}this.remove();this.invokeLater(function(){if(this._sleptApp){this._sleptApp.wake();this._sleptApp=null}},300)},render:function(a){},update:function(){}});sc_require(\"views/auth_ui_view\");sc_require(\"views/badge_flipping_pane\");AuthUI.authPane=AuthUI.BadgeFlippingPane.create({layout:{left:0,top:0,right:0,bottom:0,minWidth:CloudOS.MIN_WIDTH,minHeight:CloudOS.MIN_HEIGHT},windowResized:SC.browser.isIE8OrLower?function(){var b=this.get(\"currentWindowSize\");if(!b||!b.width||!b.height){return}var c=this.get(\"layout\"),a;if(b.width<CloudOS.MIN_WIDTH){if(b.height<CloudOS.MIN_HEIGHT){if(c!==(a=this._whSmaller||(this._whSmaller={left:0,top:0,width:CloudOS.MIN_WIDTH,height:CloudOS.MIN_HEIGHT}))){this.set(\"layout\",a)}}else{if(c!==(a=this._wSmaller||(this._wSmaller={left:0,top:0,width:CloudOS.MIN_WIDTH,bottom:0}))){this.set(\"layout\",a)}}}else{if(b.height<CloudOS.MIN_HEIGHT){if(c!==(a=this._hSmaller||(this._hSmaller={left:0,top:0,right:0,height:CloudOS.MIN_HEIGHT}))){this.set(\"layout\",a)}}else{if(c!==(a=this._noSmaller||(this._noSmaller={left:0,top:0,right:0,bottom:0}))){this.set(\"layout\",a)}}}}.observes(\"currentWindowSize\"):undefined,acceptsKeyPane:YES,displayKey:CloudOS.AUTH,nowShowingBinding:\"CloudOS.workspaceController.nowShowing\",defaultBadge:\"authBadge\",childViews:\"authBadge firstRunBadge footer\".w(),classNames:\"auth-pane\".w(),immediateFadingChildren:\"\".w(),delayedFadingChildren:\"footer\".w(),authBadge:CloudOS.BadgeContainerView.design(CloudOS.NotificationSupport,{classNames:\"front overflow-always-visible\".w(),_doesNotRotate:SC.browser.isIE8OrLower,render:function(a){a.push('<div class=\"icloud-logo\"></div>');if(!this._doesNotRotate){a.push('<canvas class=\"rotating-background\" width=\"326\" height=\"340\" aria-hidden=\"true\"></canvas>')}arguments.callee.base.apply(this,arguments)},isSpinningBinding:\"CloudOS.authController.isSpinning\",isEditableBinding:\"CloudOS.authController.areFieldsEditable\",contentView:AuthUI.AuthUIView.design(),centerYBinding:\"CloudOS.workspaceController.springboardVisualCenterY\",paneDidShow:function(){arguments.callee.base.apply(this,arguments);this.owner.entranceAnimationDidFinish()},paneDidHide:function(){arguments.callee.base.apply(this,arguments);this.owner.exitAnimationDidFinish()},wantsFlip:NO,subscribesTo:\"CloudOS.workspaceController CloudOS.authController\".w(),shake:function(){if(SC.browser.isIE8OrLower){return}if(this._shaker){this._shaker.finish()}var a=15;this._shaker=this.animate(\"centerX\",{to:this.get(\"layout\").centerX+a,importants:[1,2,3,4,5,6].map(function(b){return b*a/7}),tween:CW.Anim.tweens.make(\"linearInterpolation\",[0,1,-1,1,-1,0.7,-0.7,0]),duration:400})},extraRequiredSrcs:function(){if(this._doesNotRotate){return null}return{rotater:\"/system/cloudos/auth_ui/en-us/1FCS29.34215/source/resources/images/rotating_gradient.jpg\",rotaterMask:\"/system/cloudos/auth_ui/en-us/1FCS29.34215/source/resources/images/canvas_mask.png\"}}.property(),didCreateLayer:function(){arguments.callee.base.apply(this,arguments);if(this._doesNotRotate){this.classNames.push(\"no-rotater\");this.$().addClass(\"no-rotater\")}},firstShowDelay:50,didFinishWaitingForImages:function(){CloudOS.workspaceController.invokeLater(\"notifySubscribers\",500,\"springboardMayProceed\");CloudOS.workspaceController.removeRHTMLSpinner();if(this._doesNotRotate){return}this._con=(this._can=this.$(\"canvas\")[0]).getContext(\"2d\");if(!this.extraRequiredImages.rotater||!this.extraRequiredImages.rotaterMask){this._doesNotRotate=YES;this.classNames.push(\"no-rotater\");this.$().addClass(\"no-rotater\");if(this._can){this._can.parentNode.removeChild(this._can)}return}var a=this.$(\".background\")[0];if(a){a.parentNode.removeChild(a)}},INITIAL_ROTATION:-45,MOUSE_STRENGTH:13,_xOffset:0,_yOffset:0,init:function(){arguments.callee.base.apply(this,arguments);ab=this;if(!this._doesNotRotate){this._rotationTracker=CW.Animation.create({to:0,from:0,inertia:3,speed:13,view:this,ticked:2,update:function(){this.view.paintBackgroundAtRotation()}})}},paintBackgroundAtRotation:function(b){if(typeof b===\"number\"){this._lastRotation=b}else{b=this._lastRotation||0}var d=this._can,a=this._con,e=this.extraRequiredImages.rotater,c=this.get(\"layout\");if(!d||!a||!e||!c){return}b+=this._rotationTracker.current;a.save();a.translate(d.width/2,d.height/2-95);a.rotate(b*Math.PI/180);a.drawImage(e,-e.width/2,-e.height/2);a.restore();a.globalCompositeOperation=\"destination-in\";a.drawImage(this.extraRequiredImages.rotaterMask,0,0);a.globalCompositeOperation=\"source-over\";this._hasPainted=YES},windowDidFocus:function(){this.repaintWithSelf()},repaintWithSelf:function(){if(SC.browser.safari&&this._hasPainted&&this._con&&this._can){this._con.drawImage(this._can,0,0)}},animateShow:function(){if(this._doesNotRotate){return arguments.callee.base.apply(this,arguments)}arguments.callee.base.apply(this,arguments);this._rotateAnim=CW.Animation.create({view:this,duration:1500,from:this.INITIAL_ROTATION,to:0,update:function(){this.view.paintBackgroundAtRotation(this.current)}}).start()},notifyMouseMove:function(){if(this._doesNotRotate||!this._rotationTracker){return}var a=SC.RootResponder.responder._lastMoveX||0,d=SC.RootResponder.responder._lastMoveY||0,b=this.getPath(\"pane.currentWindowSize\"),c;if(!b||!b.width||!b.height){return}if(this._lastX===undefined||this._lastY===undefined){this._xOffset=a;this._yOffset=d}this._lastX=a;this._lastY=d;this._rotationTracker.redirectTo((a-this._xOffset)/b.width*this.MOUSE_STRENGTH+(d-this._yOffset)/b.height*this.MOUSE_STRENGTH);this._rotationTracker.start()},append:function(){this._removeRequested=false;return arguments.callee.base.apply(this,arguments)},remove:function(){this._removeRequested=this.get(\"isWaitingToRemove\");if(!this._removeRequested){return arguments.callee.base.apply(this,arguments)}},removeAfterWait:function(){if(this._lIWTR===(this._lIWTR=this.get(\"isWaitingToRemove\"))){return}if(this._lIWTR||!this._removeRequested){return}SC.debug(\"The authBadge was waiting (either for firstRunBadge's permission after preloading, or for authPane's permission for dismissal) to remove itself. It is now removing itself.\");this.remove()}.observes(\"isWaitingToRemove\"),isWaitingToRemove:YES}),mouseMoved:function(){if(this.get(\"currentBadge\")!==\"authBadge\"){return}this.authBadge.notifyMouseMove()},firstRunBadge:CloudOS.BadgeContainerView.design({isPaneAttached:NO,init:function(){arguments.callee.base.apply(this,arguments);fb=this},classNames:\"back\".w(),nowShowingBinding:\"AuthUI.firstRunView\",centerYBinding:\"CloudOS.workspaceController.springboardVisualCenterY\",paneWillShow:function(){arguments.callee.base.apply(this,arguments);CloudOS.workspaceController.removeRHTMLSpinner()},paneDidShow:function(){arguments.callee.base.apply(this,arguments);this.owner.entranceAnimationDidFinish();CloudOS.workspaceController.notifySubscribers(\"springboardMayProceed\")},paneDidHide:function(){arguments.callee.base.apply(this,arguments);this.owner.exitAnimationDidFinish()},wantsFlip:YES,paneWillHide:function(){arguments.callee.base.apply(this,arguments);this.flipFlipSwitchTo(NO)},didFinishWaitingForImages:function(){var a=this.getPath(\"owner.authBadge\");if(a){a.set(\"isWaitingToRemove\",NO)}}}),currentBadgeObserver:function(){if(this.get(\"currentBadge\")===\"none\"&&this._lastCurrentBadge===\"authBadge\"){this.authBadge.set(\"isWaitingToRemove\",NO)}return arguments.callee.base.apply(this,arguments)}.observes(\"currentBadge\"),footer:SC.View.design(CW.Animatability,{layout:{left:0,right:0,height:41,bottom:0},classNames:\"auth-footer\".w(),render:function(d){var a=[{name:\"TOS\",url:\"AuthFooter.TOS.URL\".loc(),target:\"blank\"},{name:\"Privacy\",url:\"AuthFooter.Privacy.URL\".loc(),target:\"blank\"},{name:\"Forgot\",url:\"AuthFooter.Forgot.URL\".loc(),target:\"blank\"},{name:\"Help\",url:\"javascript:CloudOS.showHelp(true);\",target:\"\"}],c=\"\",b;for(i=0,l=a.length;(link=a[i]);i++){b=link.name;c+='<a class=\"'+b.toLowerCase()+'-link\" href=\"'+link.url+'\" target=\"'+link.target+'\">'+(\"AuthFooter.\"+b+\".Text\").loc()+\"</a>\"+(i+1===l?\"\":'&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"footer-link-separator\"></span>&nbsp;&nbsp;&nbsp;&nbsp;')}d.push('<div class=\"left footer-text\" style=\"font-weight:bold; font-size:11px;\"><span>'+c+'</span></div><div class=\"logo\" aria-hidden=\"true\"></div><div class=\"logo-brightener\" aria-labelledby=\"'+SC.guidFor(this)+'-label\" role=\"button\"></div><div class=\"logo-label\" id=\"'+SC.guidFor(this)+'-label\">Apple</div><div class=\"right footer-text\">'+\"AuthFooter.CopyrightText\".loc()+\"</div>\")},displayProperties:\"frame\".w(),update:function(){var n=15,k=18,o=this._leftTextWidth||(this._leftTextWidth=this._left.firstChild.offsetWidth+2),a=SC.cachedVersionOf(SC.metricsForString)(this._right.innerHTML,\"font-weight:normal; font-size:11px; font-family:Helvetica, Arial, sans-serif;\",null,true).width+!!(SC.browser.mozilla||SC.browser.msie),f=o+k+n,h=a+k+n,j=this._logo.offsetWidth||parseInt(jQuery(this._logo).css(\"width\"),10)||19,c=this.get(\"frame\").width,e=c-h-j,b=Math.round(c/2-j/2),d=Math.max(Math.min(b,e),f),g=c-f-j-a-n,m=Math.ceil(Math.min(k,g));if(this._lastLogoLeft===(this._lastLogoLeft=d)&&this._lastRightTextRight===(this._lastRightTextRight=m)){return}this._logo.style.left=this._logoBrightener.style.left=d+\"px\";this._logo.style.marginLeft=this._logoBrightener.style.marginLeft=\"-1px\";this._right.style.right=m+\"px\"},didCreateLayer:function(){this._left=this.$(\".left\")[0];this._logo=this.$(\".logo\")[0];this._right=this.$(\".right\")[0];this._logoBrightener=this.$(\".logo-brightener\")[0];this.invokeLast(\"update\");this._logo.onclick=this._logoBrightener.onclick=function(){window.open(\"AuthFooter.AppleLogo.Link.URL\".loc())}}})});AuthUI.AuthStingerView=SC.View.extend(CloudOS.Paneness).extend(CW.Animatability,CW.PaneAnimationSupport,CW.SpritePreloadEnforcement,{MIN_HEIGHT:48,MIN_WIDTH:103,MAX_WIDTH:550,layout:{centerX:0,top:301,height:48,zIndex:500},classNames:\"auth-picker overflow-always-visible\".w(),childViews:\"iForgotButton\".w(),iForgotButton:SC.ButtonView.extend(SC.AutoResize,{layout:{height:31,right:9,centerY:1,zIndex:2},supportsAutoResize:YES,autoResizeLayer:function(){return this.$(\".title\")[0]}.property(),autoResizeText:function(){return this.get(\"displayTitle\")}.property(),autoResizePadding:{width:20,height:0},classNames:\"iforgot-button\".w(),title:\"Error.AuthDidNotValidate.iForgot\".loc(),action:function(){window.open(\"Error.AuthDidNotValidate.iForgot.URL\".loc())},frameObserver:function(){this.owner.invokeLast(\"recalculateLayout\")}.observes(\"calculatedWidth\"),renderDelegate:{render:function(f,g){var e='<div class=\"button-bg\">';for(var b=0,a;a=SC.THREE_SLICE[b];b++){e+='<div class=\"'+a+'\"></div>'}e+='</div><div class=\"title\">'+f.get(\"displayTitle\")+\"</div>\";g.push(e)},update:function(){}}}),render:function(f){window.apv=this;var d=\"tl tlc tc trc tr cl c cr bl b br\".w(),b='<div class=\"background\" aria-hidden=\"true\">';for(var a=0,e;e=d[a];a++){b+='<div class=\"'+e+'\"></div>'}b+=\"</div>\";b+='<div class=\"message\">'+\"Error.AuthDidNotValidate.Title\".loc()+'</div><div class=\"description\">'+\"Error.AuthDidNotValidate.Description\".loc()+\"</div>\";f.push(b)},update:function(){},didCreateLayer:function(){this._layer=this.get(\"layer\");this._tc=this.$(\".tc\")[0];this._tlc=this.$(\".tlc\")[0];this._trc=this.$(\".trc\")[0];this._message=this.$(\".message\")[0];this._description=this.$(\".description\")[0];this.fixBackground()},recalculateLayout:function(){var c=this.getPath(\"iForgotButton.layout\");var d=11*2+c.width+c.right;var b=this.MAX_WIDTH-d;var a=SC.cachedVersionOf(SC.metricsForString)(this._message.innerHTML,this._message,null,true);var e=SC.cachedVersionOf(SC.bestStringMetricsForMaxWidth)(this._description.innerHTML,b,this._description,null,true);this.adjust(\"width\",Math.max(this.MIN_WIDTH,Math.max(a.width+1,e.width)+d));d=26+7;this.adjust(\"height\",Math.max(this.MIN_HEIGHT,e.height+d))},fixBackground:function(){var d=this.get(\"frame\");if(!d||!this._layer){return}if(this._lastW===(this._lastW=d.width)&&this._lastH===(this._lastH=d.height)){return}var b=d.width+17*2,c=d.height+17+32,e=Math.floor(b/2-65/2),a=e-36;trcW=b-36-a-36-65;if(e<0||a<0||trcW<0){return}this._tc.style.left=e+\"px\";this._tlc.style.width=a+\"px\";this._trc.style.width=trcW+\"px\"}.observes(\"frame\")});";